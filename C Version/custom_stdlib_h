#ifndef CALC_STDLIB
#define CALC_STDLIB

#include <time.h>

#include "khash.h"

#include "types.h"

KHASH_MAP_INIT_STR(Calc_Builtin_Hash, Calc_Builtin)

typedef khash_t(Calc_Builtin_Hash) Calc_Builtins;
#define calc_builtins_put(h, k, r) kh_put(Calc_Builtin_Hash, h, k, r)
#define calc_builtins_get(h, k) kh_get(Calc_Builtin_Hash, h, k)

Calc_Builtins* make_builtins();

#define __builtin(name) void name( \
	Calc_Stack* stack, \
	Calc_Builtins* builtins, \
	Calc_Scopes* scopes, \
	time_t end_time \
)

__builtin(calc_builtin_type);
__builtin(calc_builtin_dup);
__builtin(calc_builtin_drop);

#endif